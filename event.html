<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="Generator" content="EditPlus®">
  <meta name="Author" content="">
  <meta name="Keywords" content="">
  <meta name="Description" content="">
  <title>Shinhwa</title>
  <link href="css/bootstrap.css" rel="stylesheet">
  <link rel="shortcut icon" href="favicon.ico" />
  <script src="js/jquery.js"></script>
  <script src="js/bootstrap.min.js"></script>
  <style>
  .line{height:1px;border-top:1px solid red;margin-bottom:10px}
  .title{background-color:#7777A4;padding:10px;color:white}
  .mt{margin-top:50px}
  .clearMB{margin-bottom:0!important}
  </style>
 </head>
 <body>
  <div class="navbar navbar-default navbar-fixed-top">
	<div class="navbar-header">
		<div class="navbar-brand">
			<span>EVENT</span>
		</div>
		<button class="navbar-toggle" data-target=".zt" data-toggle="collapse">
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
		</button>
		
	</div>
	<div class="collapse navbar-collapse zt">
		<ul class="nav navbar-nav">
			<li><a href="#jqevent">JQ事件绑定</a></li>
			<li><a href="#jsevent">JS事件绑定</a></li>
			<li><a href="#custom">自定义事件</a></li>
		</div>
	</div>
  </div>
  <div class="container mt">
	<div class="row">
		<div class="col-lg-12">
		<h3>Event</h3>
		<p id="jqevent" class="col-lg-12 title">JQ常用绑定事件的几种方式：</p>
		<p>$("dom").click(function(){})</p>
		<p>$("dom").bind("eventType",handler)</p>
		<p>$("dom").on("eventType","event.target",handler)(这个方式是冒泡使用方式通常用在后来添加的DOM
		元素上)</p>
		<p>主动触发事件的方式为：$("dom").trigger("eventType")</p>
		<p>这三种绑定事件的方式每一种都可以为事件指定多个处理函数不会发生覆盖比如：</p>
		<pre>
		var btn = $("button");
		btn.click(function(){
			alert(1);
		});
		btn.click(function(){
			alert(2);
		});
		</pre>
		<p>按钮每次点击会先弹出1在弹出2两个都会执行。</p>
		<p>bind和on支持命名空间的使用</p>
		<pre>
		var btn = $("button");
		btn.bind("click",function(){
			alert(1)
		})
		btn.bind("click.a",function(){
			alert(2)
		})
		btn.bind("click.b",function(){
			alert(3)
		})
		btn.trigger("click.a")//只会弹出2
		btn.trigger("click.b")//只会弹出3
		btn.trigger("click");//弹出1,2,3
		</pre>
		<p>bind和on绑定事件之后还可以取消事件</p>
		<pre>
		var btn = $("button");
		btn.bind("click",function(){
			alert(1);
			this.unbind("click");
		});
		//第一次点击会弹出1然后会取消元素的绑定事件，下一次点击不会执行。
		</pre>
		<p>bind绑定事件的方式一般用在我们在页面加载完成之后通过ajax从后台获取数据然后生成DOM节点，这种情况
		下应该使用$(document).on("click","button",function(){})进行事件的处理。或者在某个事件后再使用
		JS获取元素。
		</p>
		<div class="line"></div>
		<p id="jsevent" class="col-lg-12 title">JS我们通常使用addEventListener来绑定事件。</p>
		<pre>
		var btn = document.getElementById("ID");
		btn.addEventListener("click",function(){},false);
		//该方法接收三个参数第一个表示事件类型(不加on),第二个参数为处理函数，第三个参数为true
		表示事件的捕获阶段、false表示事件的冒泡阶段。
		//通过addEventListener绑定的事件可以通过removerEventListener来取消。
		btn.addEventListener("click",function(){
			btn.removeEventListener("click",function(){});
		},false);
		</pre>
		<div class="line"></div>
		<p id="custom" class="col-lg-12 title">自定义事件实现</p>
		<pre>
		var tools = tools || {};
		(function(){
			var eleHandlerPools = eleHandlerPools || [];
			tools.addEvent = function(ele,eType,handler){
				if(eleHandlerPools.length==0){
					var obj = {};
					obj.element = ele;
					obj[eType] = [];
					obj[eType].push(handler);
					eleHandlerPools.push(obj);
					return;

				}
				for(var i=0,l=eleHandlerPools.length;i&ltl;i++){
					if(eleHandlerPools[i].element == ele){
						eleHandlerPools[i][eType] = eleHandlerPools[i][eType] || [];
						eleHandlerPools[i][eType].push(handler);
					}else{
						var obj = {};
						obj.element = ele;
						obj[eType] = [];
						obj[eType].push(handler);
						eleHandlerPools.push(obj);
					}
				}
			}
			tools.triggerEvent = function(ele,eType){
				for(var i=0;i&lteleHandlerPools.length;i++){
					if(eleHandlerPools[i].element == ele){
						var handlerArr = eleHandlerPools[i][eType];
						for(var j=0;j&lthandlerArr.length;j++){
							handlerArr[j]();
						}
					}
				}
			}
		})()
		</pre>
		<p>面向对象简单实现：</p>
		<pre>
		function Event(DOM){
			this.element = DOM;
			this.handlerPools = {};
		}
		Event.prototype.addEvent = function(eventType,handler){
			if(eventType in this.handlerPools){
				this.handlerPools[eventType].push(handler);
			}else{
				this.handlerPools[eventType] = [];
				this.handlerPools[eventType].push(handler);
			}
			return this;
		}
		Event.prototype.triggerEvent = function(eventType){
			if(eventType in this.handlerPools&&this.handlerPools[eventType].length>0){
				var handlerArr = this.handlerPools[eventType];
				for(var i=0,l=handlerArr.length;i&ltl;i++){
				handlerArr[i].call(this);
				}
			}
		}
		</pre>
		
		










		</div>
	</div>
  </div>
  <div class="navbar navbar-default clearMB">
		<div class="container">
			<h3>前端路上的小小鸟</h3>
			<h4>如有错误请指正，虚心求教。</h4>
			<h4>QQ:1370510025</h4>
		</div>
	</div>
 </body>
</html>
